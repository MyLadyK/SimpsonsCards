<div class="profile-container" *ngIf="!loading">
  <div class="profile-header">
    <h2>{{ user?.username }}</h2>
    <p>Joined: {{ user?.joinDate | date }}</p>
    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>

  <div class="profile-content">
    <div class="user-info">
      <h3>My Collection</h3>
      <p>{{ cards.length }} cards in collection</p>
    </div>

    <div class="claim-section">
      <button (click)="claimCards()" class="claim-button">Claim 4 Cards</button>
      <div class="claim-message" *ngIf="showClaimError" [class.error]="true">
        {{ claimErrorMessage }}
      </div>
      <div class="claim-message" *ngIf="showClaimSuccess" [class.success]="true">
        Cards claimed successfully!
      </div>
    </div>

    <div class="card-grid" *ngIf="cards.length > 0">
      <div class="card-item" *ngFor="let card of cards">
        <img [src]="card.imageUrl" [alt]="card.name" class="card-image">
        <div class="card-info">
          <h4>{{ card.name }}</h4>
          <p><strong>Series:</strong> {{ card.series }}</p>
          <p><strong>Rarity:</strong> {{ card.rarity }}</p>
        </div>
      </div>
    </div>

    <div class="empty-collection" *ngIf="cards.length === 0">
      <p>Your collection is empty. Start collecting cards!</p>
    </div>

    <div class="loading" *ngIf="loading">
      <p>Loading cards...</p>
    </div>
  </div>
</div>

<div class="loading-spinner" *ngIf="loading">
  <div class="spinner"></div>
  <p>Loading your profile...</p>
</div>
